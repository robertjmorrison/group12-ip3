@{
    if(!WebSecurity.IsAuthenticated)
     {
       Response.Redirect("Index.cshtml");    
     }

    var db = Database.Open("ProjectManager");
    
    var roles = db.Query("SELECT roleName, roleId FROM Roles");
    var rolesNumber = db.QueryValue("SELECT COUNT(*) FROM Roles");

    long[] rolesId = new long[rolesNumber];
    String[] rolesName = new String[rolesNumber];

    var i = 0;
    foreach (var x in roles)
    {
          rolesId[i] = @x.roleId;
          rolesName[i] = @x.roleName;
          i++;
    }


}

<div>  
    <h2>Edit Role</h2>
              
    <form>
        <p> Select role you wish to edit</p>
        <select name="role">
        @for(int x=0; x<rolesNumber; x++)
        {
               <option value=@rolesId[x] >@rolesName[x]</option> 
        }
        </select>
        </br></br>
		<input type="submit" name="selectRole">Select Role</input> 
       
         
        <input type="checkbox" name="permissions" value="edit">Edit permissions<br>
        <input type="checkbox" name="permissions" value="create">Create templates<br>
        <input type="checkbox" name="permissions" value="edit">Edit templates<br>
        <input type="checkbox" name="permissions" value="close">Close reports<br>
        <input type="checkbox" name="permissions" value="status">Change report status<br>
        <input type="checkbox" name="permissions" value="reopen">Reopen report<br>
        <input type="checkbox" name="permissions" value="create">Create report<br>
        <input type="checkbox" name="permissions" value="edit">Edit report<br>
        <input type="checkbox" name="permissions" value="add">Add attachment<br>
        <input type="checkbox" name="permissions" value="remove">Remove attachment<br>
        </br>
	 		 
        <input type="submit" name="editRole">Edit Role</input>
        </br></br>
		
        <input type="submit">Back</input>
    </form>
</div>